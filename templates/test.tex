% !TEX TS-program = XeLaTeX

% LianTze Lim templates helped a lot!
% https://www.overleaf.com/latex/examples/how-to-write-multilingual-text-with-different-scripts-in-latex/wfdxqhcyyjxz
% https://www.overleaf.com/blog/441-how-to-write-in-markdown-on-overleaf

\documentclass{article}%

\usepackage{polyglossia}%
\usepackage{fontspec}%
\usepackage[space]{xeCJK}
\usepackage[Latin, Thai]{ucharclasses}

% installed fonts: 
% fandol and wadalab (cjk-fonts)
% Linux Libertine OpenType
% IPAex font OTF http://ipafont.ipa.go.jp/
% tlwg fonts

% thai word break research..
% https://crates.io/crates/chamkho
% https://linux.thai.net/projects/swath
% http://userguide.icu-project.org/boundaryanalysis
%  https://www-01.ibm.com/software/globalization/topics/thai/collation.html
% some go-lang tools..


\usepackage{xltxtra}


{% if def_lang.short == "jp"  %}
\setCJKmainfont{MS Mincho} % for \rmfamily
\setCJKsansfont{MS Gothic} % for \sffamily
{% elif def_lang.short == "zh" %}
%\setCJKmainfont[
%  BoldFont=WenQuanYi Zen Hei,
%  ItalicFont=AR PL KaitiM GB]
%  {AR PL SungtiL GB}
%\setCJKsansfont{Noto Sans CJK SC}
%\setCJKmonofont{cwTeXFangSong}
{% elif def_lang.short == "th" %}
\setmainlanguage[numerals=thai]{thai}%
{% else %}
\setmainlanguage{->{{def_lang.long}}}%
\XeTeXlinebreaklocale "th_TH"
\XeTeXlinebreakskip = 0pt plus 1pt  
{% endif %}
\defaultfontfeatures{Ligatures=TeX}%

{% for lang in other_langs %}
    {% if lang.short == "jp"  %}
    {% elif lang.short == "zh"  %}
    {% elif lang.short == "ko"  %}
    {% else %}
\setotherlanguage{->{{lang.long}}}%
    {% endif %}
{% endfor %}

\newfontfamily\defaultfont{Linux Libertine O}% Code2000
\newfontfamily\latinfont{Linux Libertine O}%
\newfontfamily\thaifont[Script=Thai]{Norasi}%
\newfontfamily{\thaifonttt}[Script=Thai]{TlwgMono}
%\newfontfamily{\cjkfont}{HAN NOM A}
%\newfontfamily{\unifiedCJKfont}{SimSun-ExtB}
\newCJKfontfamily\japanesefont{IPAex明朝}
%\newCJKfontfamily\koreafont{Baekmuk Batang}

\setDefaultTransitions{\defaultfont}{}

\setTransitionsForLatin{\latinfont}{}
%\setTransitionsForCJK{\cjkfont}{}
\setTransitionsForJapanese{\japanesefont}{}
%\setTransitionTo{CJKUnifiedIdeographsExtensionB}{\unifiedCJKfont}
\setTransitionTo{Thai}{\thaifont}

\usepackage{markdown}
\markdownSetup{
	renderers = {
	olItemWithNumber = {\item},
	}
}

\begin{document}%



\markdownInput{test.md}%

teste lalala

ดาว

teste lalala


%\textbrazil{ação é português}%
%\textenglish{this is english}%
%\textthai{ดาวพุธมีหลุมอุกกาบาตจำนวนมากจนดูคล้ายดวงจันทร์}%
\end{document}%





