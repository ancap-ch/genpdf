% !TEX TS-program = XeLaTeX

% LianTze Lim templates helped a lot!
% https://www.overleaf.com/latex/examples/how-to-write-multilingual-text-with-different-scripts-in-latex/wfdxqhcyyjxz
% https://www.overleaf.com/blog/441-how-to-write-in-markdown-on-overleaf

{% if target == "book"  %}
\documentclass{book}%
{% elif target == "article"  %}
\documentclass{article}%
{% endif %}

{% include "preamble/lang.tex" %}

% shortcuts
\usepackage{xcolor}
% \def \utfbox {\nopagebreak\hfill □}
\def \utfbox {\nopagebreak\hfill\color{black!40} □}
\def \texthash {\#}

{% include "preamble/footnote.tex" %}

{% include "preamble/cover.tex" %}


\usepackage[footnotes,hybrid,underscores=false]{markdown}
%\usepackage[hybrid]{markdown}
\markdownSetup{
	rendererPrototypes={
    	link = {\href{->#2}{->#1}\footnoteB{\href{->#2}{->{\ttfamily\scriptsize\relax$ \langle $#2$ \rangle $}}}}
	},
	renderers = {
		olItemWithNumber = {\item},
	}
}



\usepackage[hidelinks]{hyperref}


%\usepackage[protrusion=true,final]{microtype}



\begin{document}%

{% include "cover/cover.tex" %}

\tableofcontents

{% for md in info.content_files %}
\begin{markdown}

\end{markdown}
\markdownInput{->{{md.0}}}%
\begin{markdown}

\end{markdown}
{% endfor %}

\end{document}
